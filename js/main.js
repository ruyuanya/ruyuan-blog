function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,r,a,c=[],l=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=r.call(n)).done)&&(c.push(o.value),c.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var l,a={},e=Object.prototype,u=e.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",i=t.toStringTag||"@@toStringTag";function r(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{r({},"")}catch(l){r=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i,r,a,c,t=t&&t.prototype instanceof g?t:g,t=Object.create(t.prototype),o=new O(o||[]);return s(t,"_invoke",{value:(i=e,r=n,a=o,c=m,function(e,t){if(c===h)throw Error("Generator is already running");if(c===p){if("throw"===e)throw t;return{value:l,done:!0}}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n=n&&function e(t,n){var o=n.method,i=t.iterator[o];return i===l?(n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=l,e(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),f):"throw"===(o=d(i,t.iterator,n.arg)).type?(n.method="throw",n.arg=o.arg,n.delegate=null,f):(i=o.arg)?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=l),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}(n,a)){if(n===f)continue;return n}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(c===m)throw c=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);if(c=h,"normal"===(n=d(i,r,a)).type){if(c=a.done?p:y,n.arg===f)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(c=p,a.method="throw",a.arg=n.arg)}})}),t}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=c;var m="suspendedStart",y="suspendedYield",h="executing",p="completed",f={};function g(){}function v(){}function L(){}r(t={},o,function(){return this});var E=Object.getPrototypeOf,b=((E=E&&E(E(C([]))))&&E!==e&&u.call(E,o)&&(t=E),L.prototype=g.prototype=Object.create(t));function w(e){["next","throw","return"].forEach(function(t){r(e,t,function(e){return this._invoke(t,e)})})}function z(a,c){var t;s(this,"_invoke",{value:function(n,o){function e(){return new c(function(e,t){!function t(e,n,o,i){var r;return"throw"!==(e=d(a[e],a,n)).type?(n=(r=e.arg).value)&&"object"==_typeof(n)&&u.call(n,"__await")?c.resolve(n.__await).then(function(e){t("next",e,o,i)},function(e){t("throw",e,o,i)}):c.resolve(n).then(function(e){r.value=e,o(r)},function(e){return t("throw",e,o,i)}):void i(e.arg)}(n,o,e,t)})}return t=t?t.then(e,e):e()}})}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function C(t){if(t||""===t){var n,e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=l,e.done=!0,e}).next=e}throw new TypeError(_typeof(t)+" is not iterable")}return s(b,"constructor",{value:v.prototype=L,configurable:!0}),s(L,"constructor",{value:v,configurable:!0}),v.displayName=r(L,i,"GeneratorFunction"),a.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,L):(e.__proto__=L,r(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},a.awrap=function(e){return{__await:e}},w(z.prototype),r(z.prototype,n,function(){return this}),a.AsyncIterator=z,a.async=function(e,t,n,o,i){void 0===i&&(i=Promise);var r=new z(c(e,t,n,o),i);return a.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},w(b),r(b,i,"Generator"),r(b,o,function(){return this}),r(b,"toString",function(){return"[object Generator]"}),a.keys=function(e){var t,n=Object(e),o=[];for(t in n)o.push(t);return o.reverse(),function e(){for(;o.length;){var t=o.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var o=this;function e(e,t){return r.type="throw",r.arg=n,o.next=e,t&&(o.method="next",o.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],r=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=u.call(i,"catchLoc"),c=u.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&u.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}var r=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return r.type=e,r.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,o,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(n=i.completion).type&&(o=n.arg,_(i)),o}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=l),f}},a}function asyncGeneratorStep(e,t,n,o,i,r,a){try{var c=e[r](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(o,i)}function _asyncToGenerator(c){return function(){var e=this,a=arguments;return new Promise(function(t,n){var o=c.apply(e,a);function i(e){asyncGeneratorStep(o,t,n,i,r,"next",e)}function r(e){asyncGeneratorStep(o,t,n,i,r,"throw",e)}i(void 0)})}}var themeColorMeta,pageHeaderEl,navMusicEl,consoleEl,anzhiyu_musicFirst=!1,anzhiyu_keyboard=null,anzhiyu_musicPlaying=!1,$bodyWrap=document.getElementById("body-wrap"),anzhiyu_intype=!1,anzhiyu_keyUpEvent_timeoutId=null,anzhiyu_keyUpShiftDelayEvent_timeoutId=null,rm=null,popupWindowTimer=null,adjectives=["美丽的","英俊的","聪明的","勇敢的","可爱的","慷慨的","善良的","可靠的","开朗的","成熟的","稳重的","真诚的","幽默的","豁达的","有趣的","活泼的","优雅的","敏捷的","温柔的","温暖的","敬业的","细心的","耐心的","深沉的","朴素的","含蓄的","率直的","开放的","务实的","坚强的","自信的","谦虚的","文静的","深刻的","纯真的","朝气蓬勃的","慎重的","大方的","顽强的","迷人的","机智的","善解人意的","富有想象力的","有魅力的","独立的","好奇的","干净的","宽容的","尊重他人的","体贴的","守信的","有耐性的","有责任心的","有担当的","有远见的","有智慧的","有眼光的","有冒险精神的","有爱心的","有同情心的","喜欢思考的","喜欢学习的","具有批判性思维的","善于表达的","善于沟通的","善于合作的","善于领导的","有激情的","有幽默感的","有思想的","有个性的","有正义感的","有责任感的","有创造力的","有想象力的","有艺术细胞的","有团队精神的","有协调能力的","有决策能力的","有组织能力的","有学习能力的","有执行能力的","有分析能力的","有逻辑思维的","有创新能力的","有专业素养的","有商业头脑的"],vegetablesAndFruits=["萝卜","白菜","芹菜","生菜","青椒","辣椒","茄子","豆角","黄瓜","西红柿","洋葱","大蒜","土豆","南瓜","豆腐","韭菜","花菜","西兰花","蘑菇","金针菇","苹果","香蕉","橙子","柠檬","猕猴桃","草莓","葡萄","桃子","杏子","李子","石榴","西瓜","哈密瓜","蜜瓜","樱桃","蓝莓","柿子","橄榄","柚子","火龙果"],selectRandomSong=[],musicVolume=.8,changeMusicListFlag=!1,defaultPlayMusicList=[];document.addEventListener("DOMContentLoaded",function(){function Q(e){function t(e){return Array.from(e).reduce(function(e,t){return e+t.offsetWidth},0)}e&&(e=t(document.querySelector("#blog_name > a").children),n=t(document.getElementById("menus").children),o=e+n,ee=document.getElementById("nav"));var n,e=window.innerWidth<=768||o>ee.offsetWidth-120;ee.classList.toggle("hide-menu",e)}function Z(){anzhiyu.sidebarPaddingR(),anzhiyu.animateIn(document.getElementById("menu-mask"),"to_show 0.5s"),document.getElementById("sidebar-menus").classList.add("open"),n=!0}function t(){document.body.style.paddingRight="",anzhiyu.animateOut(document.getElementById("menu-mask"),"to_hide 0.5s"),document.getElementById("sidebar-menus").classList.remove("open"),n=!1}var o,ee,e,n=!1;function te(){var r=document.getElementById("rightside"),a=window.innerHeight+56,c=0,l=(document.body.scrollHeight<=a&&(r.style.cssText="opacity: 1; transform: translateX(-58px)"),0),u=!0,s=document.getElementById("page-header"),d=document.getElementById("popup-window"),m="function"==typeof chatBtnHide,y="function"==typeof chatBtnShow,h=!1,e=document.getElementById("nav-music"),t=document.getElementById("footer"),p=document.getElementById("waterfall"),f=document.getElementById("percent"),g=document.getElementById("nav-totop"),v=document.getElementById("body-wrap"),L=document.getElementById("post-comment")||document.getElementById("footer");var n=anzhiyu.throttle(function(){var e,t,n,o=window.scrollY||document.documentElement.scrollTop,i=(n=l<o,l=o,Math.abs(c-o));60<o&&i<20&&0!=i||(d&&d.classList.contains("show-popup-window")&&60<o&&20<i&&0!=c&&anzhiyu.throttle(function(){popupWindowTimer&&clearTimeout(popupWindowTimer),popupWindowTimer=setTimeout(function(){d.classList.contains("popup-hide")||d.classList.add("popup-hide"),setTimeout(function(){d.classList.remove("popup-hide"),d.classList.remove("show-popup-window")},1e3)},1e3)},1e3)(),26<(c=o)?(n?(s.classList.contains("nav-visible")&&s.classList.remove("nav-visible"),y&&!0===u&&(chatBtnHide(),u=!1)):(s.classList.contains("nav-visible")||s.classList.add("nav-visible"),m&&!1===u&&(chatBtnShow(),u=!0)),requestAnimationFrame(function(){anzhiyu.initThemeColor(),s.classList.add("nav-fixed")}),"0"===window.getComputedStyle(r).getPropertyValue("opacity")&&(r.style.cssText="opacity: 0.8; transform: translateX(-58px)")):(o<=5&&requestAnimationFrame(function(){s.classList.remove("nav-fixed"),s.classList.remove("nav-visible"),anzhiyu.initThemeColor()}),r.style.cssText="opacity: ''; transform: ''"),document.body.scrollHeight<=a&&(r.style.cssText="opacity: 0.8; transform: translateX(-58px)"),i=o,n=v.clientHeight,n=(o=document.documentElement.clientHeight)<n?n-o:document.documentElement.scrollHeight-o,o=Math.round(i/n*100),f.textContent=n=100<o?100:o<=0?1:o,(e=L||90<n)&&"none"!=window.getComputedStyle(e).getPropertyValue("display")&&(t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e.offsetTop-document.documentElement.scrollTop<=t)&&20<i?(g.classList.add("long"),f.textContent="返回顶部"):(g.classList.remove("long"),f.textContent=n),p&&(o=i%document.documentElement.clientHeight,!h&&100+o>=document.documentElement.clientHeight?(console.info(o,document.documentElement.clientHeight),setTimeout(function(){waterfall("#waterfall")},500)):setTimeout(function(){p&&waterfall("#waterfall")},500)))},96);t&&anzhiyu.intersectionObserver(function(){t&&e&&768<document.body.clientWidth&&(e.style.bottom="-10px",e.style.opacity="0"),h=!0},function(){t&&e&&768<document.body.clientWidth&&(e.style.bottom="20px",e.style.opacity="1")})().observe(t),n(),anzhiyu.addEventListenerPjax(window,"scroll",n,{passive:!0})}function i(t){var n=(window.globalFn||{}).themeChange||{};n&&(Object.keys(n).forEach(function(e){(0,n[e])(t)}),rm&&rm.hideRightMenu(),e.querySelector(".menu-darkmode-text").textContent="light"===t?"深色模式":"浅色模式",GLOBAL_CONFIG_SITE.isPost||(document.querySelector(":root").style.setProperty("--anzhiyu-bar-background","var(--anzhiyu-meta-theme-color)"),requestAnimationFrame(function(){anzhiyu.initThemeColor()}),document.documentElement.style.setProperty("--anzhiyu-main",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-theme")),document.documentElement.style.setProperty("--anzhiyu-theme-op",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"23"),document.documentElement.style.setProperty("--anzhiyu-theme-op-deep",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"dd")))}function ne(e){e.forEach(function(e){var t=e.getAttribute("datetime");e.textContent=anzhiyu.diffDate(t,!0),e.style.display="inline"})}var r,a,c,l,u,s,d={readmode:function(){var t=document.body,n=(t.classList.add("read-mode"),document.createElement("button"));n.type="button",n.className="anzhiyufont anzhiyu-icon-xmark exit-readmode",t.appendChild(n),n.addEventListener("click",function e(){t.classList.remove("read-mode"),n.remove(),n.removeEventListener("click",e)})},darkmode:function(){var e="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";"dark"==e?(activateDarkMode(),void 0!==GLOBAL_CONFIG.Snackbar&&anzhiyu.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)):(activateLightMode(),void 0!==GLOBAL_CONFIG.Snackbar&&anzhiyu.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day)),saveToLocal.set("theme",e,2),i(e)},"rightside-config":function(e){var t=e.firstElementChild;t.classList.contains("show")&&(t.classList.add("status"),setTimeout(function(){t.classList.remove("status")},300)),t.classList.toggle("show")},"go-up":function(){anzhiyu.scrollToDest(0,500)},"hide-aside-btn":function(){var e=document.documentElement.classList,t=e.contains("hide-aside")?"show":"hide";saveToLocal.set("aside-status",t,2),e.toggle("hide-aside")},"mobile-toc-button":function(e){var t=document.getElementById("card-toc");t.style.transformOrigin="right ".concat(e.getBoundingClientRect().top+17,"px"),t.style.transition="transform 0.3s ease-in-out",t.classList.toggle("open"),t.addEventListener("transitionend",function(){t.style.transition="",t.style.transformOrigin=""},{once:!0})},"chat-btn":function(){window.chatBtnFn()},translateLink:function(){window.translateFn.translatePage()}},oe=(document.getElementById("rightside").addEventListener("click",function(e){(e=e.target.closest("[id]"))&&d[e.id]&&d[e.id](this)}),document.addEventListener("touchstart",function(e){anzhiyu.removeRewardMask()},{passive:!0}),r=_asyncToGenerator(_regeneratorRuntime().mark(function e(){var t,n,o,i,r,a,c,l;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector(":root"),n=null==(n=document.getElementById("post-top-bg"))?void 0:n.src){e.next=9;break}return t.style.setProperty("--anzhiyu-bar-background","var(--anzhiyu-meta-theme-color)"),requestAnimationFrame(function(){anzhiyu.initThemeColor()}),document.documentElement.style.setProperty("--anzhiyu-main",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-theme")),document.documentElement.style.setProperty("--anzhiyu-theme-op",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"23"),document.documentElement.style.setProperty("--anzhiyu-theme-op-deep",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"dd"),e.abrupt("return");case 9:GLOBAL_CONFIG.mainTone?GLOBAL_CONFIG_SITE.postMainColor?("light"===h(i=GLOBAL_CONFIG_SITE.postMainColor)&&(i=y(m(i),-40)),t.style.setProperty("--anzhiyu-bar-background",i),requestAnimationFrame(function(){anzhiyu.initThemeColor()}),GLOBAL_CONFIG.mainTone.cover_change&&(document.documentElement.style.setProperty("--anzhiyu-main",i),document.documentElement.style.setProperty("--anzhiyu-theme-op",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"23"),document.documentElement.style.setProperty("--anzhiyu-theme-op-deep",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"dd")),e.next=75):e.next=18:e.next=75;break;case 18:return o="var(--anzhiyu-theme)",i="","cdn"==GLOBAL_CONFIG.mainTone.mode||"both"==GLOBAL_CONFIG.mainTone.mode?i=n+"?imageAve":"api"==GLOBAL_CONFIG.mainTone.mode&&(i=GLOBAL_CONFIG.mainTone.api+n),e.prev=21,e.next=24,fetch(i);case 24:if((a=e.sent).ok&&null!=(r=a.headers.get("content-type"))&&r.includes("application/json"))return e.next=28,a.json();e.next=36;break;case 28:r=e.sent,a="cdn"==GLOBAL_CONFIG.mainTone.mode||"both"==GLOBAL_CONFIG.mainTone.mode?"#"+r.RGB.slice(2):r.RGB,"light"===h(a)&&(a=y(m(a),-40)),t.style.setProperty("--anzhiyu-bar-background",a),requestAnimationFrame(function(){anzhiyu.initThemeColor()}),GLOBAL_CONFIG.mainTone.cover_change&&(document.documentElement.style.setProperty("--anzhiyu-main",a),document.documentElement.style.setProperty("--anzhiyu-theme-op",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"23"),document.documentElement.style.setProperty("--anzhiyu-theme-op-deep",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"dd")),e.next=67;break;case 36:if("both"==GLOBAL_CONFIG.mainTone.mode)return e.prev=37,e.next=40,fetch(GLOBAL_CONFIG.mainTone.api+n);e.next=64;break;case 40:if((l=e.sent).ok&&null!=(c=l.headers.get("content-type"))&&c.includes("application/json"))return e.next=44,l.json();e.next=52;break;case 44:c=e.sent,l=c.RGB,"light"===h(l)&&(l=y(m(l),-40)),t.style.setProperty("--anzhiyu-bar-background",l),requestAnimationFrame(function(){anzhiyu.initThemeColor()}),GLOBAL_CONFIG.mainTone.cover_change&&(document.documentElement.style.setProperty("--anzhiyu-main",l),document.documentElement.style.setProperty("--anzhiyu-theme-op",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"23"),document.documentElement.style.setProperty("--anzhiyu-theme-op-deep",getComputedStyle(document.documentElement).getPropertyValue("--anzhiyu-main")+"dd")),e.next=55;break;case 52:t.style.setProperty("--anzhiyu-bar-background",o),requestAnimationFrame(function(){anzhiyu.initThemeColor()}),document.documentElement.style.setProperty("--anzhiyu-main",o);case 55:e.next=62;break;case 57:e.prev=57,e.t0=e.catch(37),t.style.setProperty("--anzhiyu-bar-background",o),requestAnimationFrame(function(){anzhiyu.initThemeColor()}),document.documentElement.style.setProperty("--anzhiyu-main",o);case 62:e.next=67;break;case 64:t.style.setProperty("--anzhiyu-bar-background",o),requestAnimationFrame(function(){anzhiyu.initThemeColor()}),document.documentElement.style.setProperty("--anzhiyu-main",o);case 67:e.next=75;break;case 69:e.prev=69,e.t1=e.catch(21),console.error("Error fetching data:",e.t1),t.style.setProperty("--anzhiyu-bar-background",o),requestAnimationFrame(function(){anzhiyu.initThemeColor()}),document.documentElement.style.setProperty("--anzhiyu-main",o);case 75:case"end":return e.stop()}},e,null,[[21,69],[37,57]])})),function(){return r.apply(this,arguments)}),m=function(e){return/^(rgb|RGB)/.test(e)?e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",").reduce(function(e,t){return e+Number(t).toString(16).padStart(2,"0")},"#"):/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(e)&&4===e.length?Array.from(e.slice(1)).reduce(function(e,t){return e+t+t},"#"):e},y=function(e,t){function n(e,t){return 255<(e+=t)?255:e<0?0:e}var o=e.startsWith("#");o&&(e=e.slice(1));var i=n((e=parseInt(e,16))>>16,t),r=n(e>>8&255,t),e=n(255&e,t);return(o?"#":"")+String("000000"+(e|r<<8|i<<16).toString(16)).slice(-6)},h=function(e){var t;return(e=_slicedToArray((t=(t=e).replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,o){return t+t+n+n+o+o}),((t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))?"rgb(".concat(parseInt(t[1],16),", ").concat(parseInt(t[2],16),", ").concat(parseInt(t[3],16),")"):null).match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/)),4))[0],.5<=(299*e[1]+587*e[2]+114*e[3])/255e3?"light":"dark"};function ie(e,t){(e=document.getElementById(e))&&t?(t=e.querySelector(t))&&t.addEventListener("click",d.darkmode):e&&e.addEventListener("click",d.darkmode)}function p(e){var t=27===e.keyCode,n=e.shiftKey,o=anzhiyu_keyboard,i=anzhiyu_intype,t=(t&&(anzhiyu.hideLoading(),anzhiyu.hideConsole(),rm)&&rm.hideRightMenu(),GLOBAL_CONFIG.shortcutKey.delay||100),r=GLOBAL_CONFIG.shortcutKey.shiftDelay||200;o&&n&&!i&&(anzhiyu_keyUpShiftDelayEvent_timeoutId=setTimeout(function(){switch(e.keyCode){case 16:anzhiyu_keyUpEvent_timeoutId=setTimeout(function(){document.querySelector("#keyboard-tips").classList.add("show")},r);break;case 65:anzhiyu.switchConsole();break;case 77:anzhiyu.musicToggle();break;case 75:anzhiyu.keyboardToggle();break;case 73:anzhiyu.rightMenuToggle();break;case 82:toRandomPost();break;case 72:pjax.loadUrl("/");break;case 68:d.darkmode();break;case 70:pjax.loadUrl("/fcircle/");break;case 76:pjax.loadUrl("/link/");break;case 80:pjax.loadUrl("/about/")}e.preventDefault()},t))}function f(e){anzhiyu_keyUpEvent_timeoutId&&clearTimeout(anzhiyu_keyUpEvent_timeoutId),anzhiyu_keyUpShiftDelayEvent_timeoutId&&clearTimeout(anzhiyu_keyUpShiftDelayEvent_timeoutId),16===e.keyCode&&document.querySelector("#keyboard-tips").classList.remove("show")}if(window.onkeydown=function(e){123===e.keyCode&&anzhiyu.snackbarShow("开发者模式已打开，请遵循GPL协议",!1)},window.refreshFn=function(){var r,n,a,c,l,u,s,d,m;Q(!0),ee.classList.add("show"),themeColorMeta=document.querySelector('meta[name="theme-color"]'),pageHeaderEl=document.getElementById("page-header"),navMusicEl=document.getElementById("nav-music"),consoleEl=document.getElementById("console"),ie("console",".darkmode_switchbutton"),GLOBAL_CONFIG_SITE.isPost?(void 0!==GLOBAL_CONFIG.noticeOutdate&&(t=GLOBAL_CONFIG.noticeOutdate,(S=anzhiyu.diffDate(GLOBAL_CONFIG_SITE.postUpdate))>=t.limitDay)&&((O=document.createElement("div")).className="post-outdate-notice",O.textContent=t.messagePrev+" "+S+" "+t.messageNext,S=document.getElementById("article-container"),"top"===t.position?S.insertBefore(O,S.firstChild):S.appendChild(O)),GLOBAL_CONFIG.relativeDate.post&&ne(document.querySelectorAll("#post-meta time"))):((GLOBAL_CONFIG.relativeDate.homepage||GLOBAL_CONFIG.relativeDate.simplehomepage)&&ne(document.querySelectorAll("#recent-posts time")),GLOBAL_CONFIG.runtime&&(t=document.getElementById("runtimeshow"))&&(S=t.getAttribute("data-publishDate"),t.textContent="".concat(anzhiyu.diffDate(S)," ").concat(GLOBAL_CONFIG.runtime)),(O=document.getElementById("last-push-date"))&&(e=O.getAttribute("data-lastPushDate"),O.textContent=anzhiyu.diffDate(e,!0)),(e=document.querySelector("#aside-cat-list.expandBtn"))&&anzhiyu.addEventListenerPjax(e,"click",function(e){var t=e.target;"I"===t.nodeName&&(e.preventDefault(),t.parentNode.classList.toggle("expand"))},!0)),GLOBAL_CONFIG.diytitle&&(i=GLOBAL_CONFIG.diytitle.leaveTitle,y=GLOBAL_CONFIG.diytitle.backTitle,h=document.title,document.addEventListener("visibilitychange",function(){document.hidden?(document.title=i,clearTimeout(o)):(document.title=y+h,o=setTimeout(function(){document.title=h},2e3))})),d=GLOBAL_CONFIG_SITE.isToc,m=GLOBAL_CONFIG.isAnchor,(t=document.getElementById("article-container"))&&(d||m)&&(d&&(n=document.getElementById("card-toc"),c=(a=n.querySelector(".toc-content")).querySelectorAll(".toc-link"),l=a.classList.contains("is-expand"),anzhiyu.addEventListenerPjax(a,"click",function(e){var t=e.target.closest(".toc-link");t&&(e.preventDefault(),anzhiyu.scrollToDest(anzhiyu.getEleTop(document.getElementById(decodeURI(t.getAttribute("href")).replace("#","")))-60,300),window.innerWidth<900)&&n.classList.remove("open")}),r=function(e){var e=e.getBoundingClientRect().top,t=a.scrollTop;e>document.documentElement.clientHeight-100&&(a.scrollTop=t+150),e<100&&(a.scrollTop=t-150)}),t=t.querySelectorAll("h1,h2,h3,h4,h5,h6"),u=Array.from(t).filter(function(e){return"CrawlerTitle"!==e.id}),s="",t=anzhiyu.throttle(function(){var n=window.scrollY||document.documentElement.scrollTop;if(0!==n){var o="",i="";if(u.forEach(function(e,t){n>anzhiyu.getEleTop(e)-80&&(e=e.id,o=e?"#"+encodeURI(e):"",i=t)}),s!==i&&(m&&anzhiyu.updateAnchor(o),s=i,d)&&(a.querySelectorAll(".active").forEach(function(e){e.classList.remove("active")}),""!==o)){var e=c[i];if(e.classList.add("active"),setTimeout(function(){r(e)},0),!l)for(var t=e.parentNode;!t.matches(".toc");t=t.parentNode)t.matches("li")&&t.classList.add("active")}}},100),anzhiyu.addEventListenerPjax(window,"scroll",t,{passive:!0})),GLOBAL_CONFIG_SITE.isHome&&(w=document.getElementById("scroll-down"))&&anzhiyu.addEventListenerPjax(w,"click",function(){var e=document.getElementById("bbTimeList");e?anzhiyu.scrollToDest(e.offsetTop-62,300):anzhiyu.scrollToDest(document.getElementById("home_top").offsetTop-60,300)}),(w=GLOBAL_CONFIG.highlight)&&(z=w.highlightCopy,p=w.highlightLang,f=w.highlightHeightLimit,w=w.plugin,F=GLOBAL_CONFIG_SITE.isHighlightShrink,g=z||p||void 0!==F,I="highlight.js"===w?document.querySelectorAll("figure.highlight"):document.querySelectorAll('pre[class*="language-"]'),g||f)&&I.length&&(L=!0===F?"closed":"",N=void 0!==F?'<i class="anzhiyufont anzhiyu-icon-angle-down expand ${highlightShrinkClass}"></i>':"",P=z?'<div class="copy-notice"></div><i class="anzhiyufont anzhiyu-icon-paste copy-button"></i>':"",E=function(e,t){var n;void 0!==GLOBAL_CONFIG.Snackbar?anzhiyu.snackbarShow(t):((n=e.previousElementSibling).textContent=t,n.style.opacity=1,setTimeout(function(){n.style.opacity=0},800))},j=function(e){document.queryCommandSupported&&document.queryCommandSupported("copy")?(document.execCommand("copy"),E(e,GLOBAL_CONFIG.copy.success)):E(e,GLOBAL_CONFIG.copy.noSupport)},q=function(e){var t=e.parentNode,n=(t.classList.add("copy-true"),window.getSelection()),o=document.createRange();o.selectNodeContents(t.querySelectorAll("".concat(v?"pre code":"table .code pre"))[0]),n.removeAllRanges(),n.addRange(o),j(e.lastChild),n.removeAllRanges(),t.classList.remove("copy-true")},M=function(e){e.classList.toggle("closed")},D=function(e){(e=e.target.classList).contains("expand")?M(this):e.contains("copy-button")&&q(this)},H=function(){this.classList.toggle("expand-done")},b=function(e,t,n){var o,i=document.createDocumentFragment();g&&((o=document.createElement("div")).className="highlight-tools ".concat(L),o.innerHTML=N+e+P,anzhiyu.addEventListenerPjax(o,"click",D),i.appendChild(o)),f&&t.offsetHeight>f+30&&((e=document.createElement("div")).className="code-expand-btn",e.innerHTML='<i class="anzhiyufont anzhiyu-icon-angle-double-down"></i>',anzhiyu.addEventListenerPjax(e,"click",H),i.appendChild(e)),"hl"===n?t.insertBefore(i,t.firstChild):t.parentNode.insertBefore(i,t)},(v="prismjs"===w)?I.forEach(function(e){var t;p?(t=e.getAttribute("data-language")||"Code",t='<div class="code-lang">'.concat(t,"</div>"),anzhiyu.wrap(e,"figure",{class:"highlight"}),b(t,e)):(anzhiyu.wrap(e,"figure",{class:"highlight"}),b("",e))}):I.forEach(function(e){var t;p?(t=e.getAttribute("class").split(" ")[1],t='<div class="code-lang">'.concat("plain"!==t&&void 0!==t?t:"Code","</div>"),b(t,e,"hl")):b("",e,"hl")})),GLOBAL_CONFIG.isPhotoFigcaption&&document.querySelectorAll("#article-container img").forEach(function(e){var t,n=e.parentNode,o=e.title||e.alt;o&&!n.parentNode.classList.contains("justified-gallery")&&((t=document.createElement("div")).className="img-alt is-center",t.textContent=o,n.insertBefore(t,e.nextSibling))}),te(),window.scrollCollect&&window.scrollCollect();var e,t,o,i,y,h,p,f,g,v,L,N,P,E,j,q,M,D,H,b,w,z,R,I,_,U,O,W,V,C,k,A,G,B,S,$,K,T,x,Y,F=document.querySelectorAll("#content-inner .fj-gallery");function J(n,o){var e,i,t,r=null!=(e=n.getAttribute("data-limit"))?e:o.length;!n.classList.contains("lazyload")||o.length<r?(n.innerHTML=T(o),n.nextElementSibling.style.display="none"):!n.classList.contains("btn_album_detail_lazyload")||n.classList.contains("page_img_lazyload")?(x(n,o,r),(i=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&setTimeout((e=x(n,o,r),fjGallery(n,"appendImages",n.querySelectorAll(".fj-gallery-item:nth-last-child(-n+".concat(e,")"))),anzhiyu.loadLightbox(n.querySelectorAll("img")),void(e<Number(r)&&i.unobserve(n.nextElementSibling))),100)})})).observe(n.nextElementSibling)):(x(n,o,r),n.nextElementSibling.addEventListener("click",t=function(){var e=x(n,o,r);fjGallery(n,"appendImages",n.querySelectorAll(".fj-gallery-item:nth-last-child(-n+".concat(e,")"))),anzhiyu.loadLightbox(n.querySelectorAll("img")),e<r&&n.nextElementSibling.removeEventListener("click",t)})),anzhiyu.initJustifiedGallery(n),anzhiyu.loadLightbox(n.querySelectorAll("img")),window.lazyLoadInstance&&window.lazyLoadInstance.update()}function X(){$.forEach(function(t){t.classList.contains("url")?Y(t.textContent).then(function(e){J(t,e)}):J(t,JSON.parse(t.textContent))})}F.length&&($=F,T=function(e){function i(e){return e.replace(/"/g,"&quot;")}var r="";return e.forEach(function(e){var t=e.alt?'alt="'.concat(i(e.alt),'"'):"",n=e.title?'title="'.concat(i(e.title),'"'):"",o='\n        <div class="fj-gallery-item">\n          '.concat((o=e.address||"")?'<div class="tag-address">'.concat(o,"</div>"):"",'\n          <img src="').concat(e.url,'" ').concat(t+n,">\n        </div>\n      ");r+=o}),r},x=function(e,t,n){var n=Number(n),o=t.length;return n<o?e.insertAdjacentHTML("beforeend",T(t.splice(0,n))):(e.insertAdjacentHTML("beforeend",T(t)),e.classList.remove("lazyload")),window.lazyLoadInstance&&window.lazyLoadInstance.update(),n<o?n:o},K=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)})),Y=function(e){return K.apply(this,arguments)},window.fjGallery?X():(getCSS("".concat(GLOBAL_CONFIG.source.justifiedGallery.css)),getScript("".concat(GLOBAL_CONFIG.source.justifiedGallery.js)).then(X))),anzhiyu.loadLightbox(document.querySelectorAll("#article-container img:not(.no-lightbox)")),(z=document.querySelectorAll("#article-container table")).length&&z.forEach(function(e){e.closest(".highlight")||anzhiyu.wrap(e,"div",{class:"table-wrap"})}),(I=document.querySelectorAll("#article-container .hide-button")).length&&(R=function(e){this.classList.add("open");var t=this.nextElementSibling.querySelectorAll(".gallery-container");t.length&&addJustifiedGallery(t)},I.forEach(function(e){e.addEventListener("click",R,{once:!0})})),(S=document.querySelectorAll("#article-container .tabs")).length&&(B=function(e,t){Array.from(e).forEach(function(e){e.classList.remove("active"),e!==t&&e.id!==t||e.classList.add("active")})},S.forEach(function(e){var t,n=!!e.querySelectorAll(".gallery-container");anzhiyu.addEventListenerPjax(e.firstElementChild,"click",function(e){var t;(e=e.target.closest("button")).classList.contains("active")||(B(this.children,e),this.classList.remove("no-default"),e=e.getAttribute("data-href"),t=this.nextElementSibling,B(t.children,e),n&&0<(t=t.querySelectorAll("#".concat(e," .fj-gallery"))).length&&anzhiyu.initJustifiedGallery(t))}),t=e,anzhiyu.addEventListenerPjax(t.lastElementChild,"click",function(e){e.target.closest("button")&&anzhiyu.scrollToDest(anzhiyu.getEleTop(t),300)})})),(O=document.getElementById("switch-btn"))&&(_=!1,U=document.getElementById("post-comment"),anzhiyu.addEventListenerPjax(O,"click",function(){U.classList.toggle("move"),_||"function"!=typeof loadOtherComment||(_=!0,loadOtherComment())})),document.getElementById("toggle-menu").addEventListener("click",function(){Z()}),document.getElementById("post-comment")&&(W=function(i){"IMG"==i.target.tagName&&C&&(C=0,k=setTimeout(function(){var e=3*i.target.clientHeight,t=3*i.target.clientWidth,n=i.x-i.offsetX-(t-i.target.clientWidth)/2,o=(n+t>G.clientWidth&&(n-=n+t-G.clientWidth+10),n<0&&(n=10),i.y-i.offsetY);A.style.height=e+"px",A.style.width=t+"px",A.style.left=n+"px",A.style.top=o+"px",A.style.display="flex",A.innerHTML='<img src="'.concat(i.target.src,'">')},100))},V=function(e){A.style.display="none",C=1,clearTimeout(k)},C=1,k="",(A=document.createElement("div")).id="owo-big",(G=document.querySelector("body")).appendChild(A),new MutationObserver(function(e){e.forEach(function(e){for(var t=e.addedNodes,n=0;n<t.length;n++){var o=t[n];o.nodeType===Node.ELEMENT_NODE&&o.classList.contains("OwO-body")&&!o.classList.contains("comment-barrage")&&(o.addEventListener("contextmenu",function(e){return e.preventDefault()}),o.addEventListener("mouseover",W),o.addEventListener("mouseout",V))}})}).observe(document.getElementById("post-comment"),{childList:!0,subtree:!0})),(O=document.querySelector(".topGroup"))&&O.addEventListener("mouseleave",function(){document.getElementById("todayCard").classList.remove("hide"),document.getElementById("todayCard").style.zIndex=1}),oe(),(O=document.getElementById("toPageText"))&&O.addEventListener("keydown",function(e){13===e.keyCode&&(anzhiyu.toPage(),e=document.getElementById("toPageButton").href,pjax.loadUrl(e))}),anzhiyu.addEventListenerPjax(document.getElementById("toggle-menu"),"click",function(){Z()}),document.getElementById("page-name").innerText=document.title.split(" | ".concat(GLOBAL_CONFIG_SITE.configTitle))[0],anzhiyu.initIndexEssay(),anzhiyu.changeTimeInEssay(),anzhiyu.removeBodyPaceClass(),anzhiyu.qrcodeCreate(),anzhiyu.changeTimeInAlbumDetail(),anzhiyu.reflashEssayWaterFall(),anzhiyu.sayhi(),anzhiyu.stopImgRightDrag(),anzhiyu.addNavBackgroundInit(),anzhiyu.setValueToBodyType(),anzhiyu.catalogActive(),anzhiyu.tagsPageActive(),anzhiyu.categoriesBarActive(),anzhiyu.topCategoriesBarScroll(),anzhiyu.switchRightClickMenuHotReview(),anzhiyu.getCustomPlayList(),anzhiyu.addEventListenerConsoleMusicList(!1),anzhiyu.initPaginationObserver(),setTimeout(function(){var e=document.querySelectorAll("input, textarea");Array.from(e).filter(function(e){"center-console"===e.id&&e.id}).forEach(function(e){e.addEventListener("focus",function(){anzhiyu_intype=!0}),e.addEventListener("blur",function(){anzhiyu_intype=!1})}),"function"==typeof addFriendLinksInFooter&&addFriendLinksInFooter()},200)},refreshFn(),window.addEventListener("resize",function(){Q(!1),n&&anzhiyu.isHidden(document.getElementById("toggle-menu"))&&t()}),document.getElementById("menu-mask").addEventListener("click",function(e){t()}),e=document.getElementById("rightMenu"),ie("menu-darkmode"),ie("sidebar",".darkmode_switchbutton"),document.querySelector("#sidebar-menus .menus_items")&&document.querySelector("#sidebar-menus .menus_items").addEventListener("click",function(e){(e=e.target.closest(".site-page.group"))&&e.classList.toggle("hide")}),GLOBAL_CONFIG.islazyload&&(window.lazyLoadInstance=new LazyLoad({elements_selector:"img",threshold:0,data_src:"lazy-src"})),void 0!==GLOBAL_CONFIG.copyright&&(v=GLOBAL_CONFIG.copyright,a=v.limitCount,c=v.languages,l=v.copy,u=v.copyrightEbable,document.body.addEventListener("copy",function(e){var t,n;if(l&&anzhiyu.snackbarShow(c.copySuccess),u)return e.preventDefault(),(n=t=window.getSelection(0).toString()).length>a&&(n="".concat(t,"\n\n\n").concat(c.author,"\n").concat(c.link).concat(window.location.href,"\n").concat(c.source,"\n").concat(c.info)),(e.clipboardData?e:window).clipboardData.setData("text",n)})),GLOBAL_CONFIG.navMusic&&(s=setInterval(function(){navMusicEl&&navMusicEl.querySelector("#nav-music meting-js").aplayer&&(clearInterval(s),navMusicEl.querySelector("#nav-music meting-js").aplayer.on("pause",function(){navMusicEl.classList.remove("playing"),document.getElementById("menu-music-toggle").innerHTML='<i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span>',document.getElementById("nav-music-hoverTips").innerHTML="音乐已暂停",document.querySelector("#consoleMusic").classList.remove("on"),anzhiyu_musicPlaying=!1,navMusicEl.classList.remove("stretch")}),navMusicEl.querySelector("#nav-music meting-js").aplayer.on("play",function(){navMusicEl.classList.add("playing"),document.getElementById("menu-music-toggle").innerHTML='<i class="anzhiyufont anzhiyu-icon-pause"></i><span>暂停音乐</span>',document.querySelector("#consoleMusic").classList.add("on"),anzhiyu_musicPlaying=!0}))},16)),GLOBAL_CONFIG.shortcutKey&&document.getElementById("consoleKeyboard")&&(localStorage.setItem("keyboardToggle","true"),document.getElementById("consoleKeyboard").classList.add("on"),anzhiyu_keyboard=!0,anzhiyu_keyboard=!!localStorage.getItem("keyboardToggle")&&localStorage.getItem("keyboardToggle"),window.onfocus=function(){document.getElementById("keyboard-tips").classList.remove("show")},(v=window).removeEventListener("keydown",p),v.removeEventListener("keyup",f),v.addEventListener("keydown",p),v.addEventListener("keyup",f)),GLOBAL_CONFIG.autoDarkmode&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(e){void 0===saveToLocal.get("theme")&&(e.matches?i("dark"):i("light"))}),GLOBAL_CONFIG.greetingBox){var g=GLOBAL_CONFIG.greetingBox.list,v=GLOBAL_CONFIG.greetingBox.default,L=document.createElement("div"),E=(L.id="greeting",setTimeout(function(){L.classList.add("shown")},1e3),document.getElementById("greetingBox"));if(E){E.appendChild(L);for(var b=(new Date).getHours(),w=v,z=0;z<g.length;z++)if(b>=g[z].startTime&&b<=g[z].endTime){w=g[z].greeting;break}L.innerHTML=w,setTimeout(function(){L.classList.remove("shown"),setTimeout(function(){E.remove()},500)},3e3)}}GLOBAL_CONFIG.LA51&&Promise.all([{url:"https://sdk.51.la/js-sdk-pro.min.js",charset:"UTF-8",crossorigin:!1,id:"LA_COLLECT"},{url:"https://sdk.51.la/perf/js-sdk-perf.min.js",crossorigin:"anonymous"}].map(function(e){return function(o,e,t,n){var i=1<arguments.length&&void 0!==e?e:"UTF-8",r=2<arguments.length?t:void 0,a=3<arguments.length?n:void 0;return new Promise(function(t,e){var n=document.createElement("script");n.src=o,n.async=!0,a&&n.setAttribute("id",a),i&&n.setAttribute("charset",i),r&&n.setAttribute("crossorigin",r),n.onerror=e,n.onload=n.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)})}(e.url,e.charset,e.crossorigin,e.id)})).then(function(){LA.init({id:GLOBAL_CONFIG.LA51.ck,ck:GLOBAL_CONFIG.LA51.ck}),(new LingQue.Monitor).init({id:GLOBAL_CONFIG.LA51.LingQueMonitorID,sendSuspicious:!0})}).catch(function(e){console.error("加载51a统计异常，本地加载403是正常情况:",e)})});